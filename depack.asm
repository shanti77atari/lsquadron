//rozpakowywanie sprit√≥w
.local depack
;x=nr ksztaltu*2 
start
		ldx #$ff
		ldy #$ff
		lda shapes,x
		sta _shp+1
		lda shapes+1,x
		sta _shp+2
		
		lda shape_a,y
		sta _adr+1
		lda shape_a+1,y
		sta _adr+2
		lda shape_b,y
		sta _adr+4
		lda shape_b+1,y
		sta _adr+5

		ldx #0
		stx _unpack		;wyczysc znacznik
@		ldy index,x
_shp	lda $ffff,x		;ksztalty
_adr	sta $ffff,y		;duszek_a
		sta $ffff,y		;duszek_b
		cpy #251
		bcc @+
		inc _adr+2
		inc _adr+5
@		inx
stop
		cpx #32*4
		bcc @-1

		rts
		
index	
		:32 dta 5*#			;80
		:32 dta <(1+160+5*#)
		:32 dta <(2+320+5*#)
		:32 dta <(3+480+5*#)
		:32 dta <(4+640+5*#)
		:32 dta <(5+800+5*#)
		:32 dta <(6+960+5*#)
		:32 dta <(7+1120+5*#)
		
shapes	dta a(shp_it),a(shp_c),a(shp_gw),a(shp_moneta),a(shp_rakieta)
shape_a	dta a(multi.it0a+1),a(multi.it1a+1),a(multi.it2a+1),a(multi.it3a+1),a(multi.it4a+1),a(multi.it5a+1),a(multi.it6a+1),a(multi.it7a+1)
shape_b dta a(multi.it0b+1),a(multi.it1b+1),a(multi.it2b+1),a(multi.it3b+1),a(multi.it4b+1),a(multi.it5b+1),a(multi.it6b+1),a(multi.it7b+1)	


shp_it
		.he 10,00,38,10,38,10,7c,38,b2,7c,f2,7c,f2,6c,f9,c6
		.he f9,c6,d2,6c,c6,7c,88,7c,44,38,28,10,28,10,10,00
		.he 00,00,00,00,20,00,78,20,74,38,b4,78,f2,7c,f2,6c
		.he f2,ec,e2,fc,c6,7c,4a,3c,34,08,08,00,00,00,00,00
		.he 00,00,00,00,00,00,10,00,38,10,5c,38,7c,38,72,2c
		.he 7a,34,2a,1c,24,18,18,00,00,00,00,00,00,00,00,00
		.he 00,00,00,00,08,00,3c,08,5c,38,7a,3c,f9,76,f1,6e
		.he 6a,3c,22,1c,2c,10,10,00,00,00,00,00,00,00,00,00

shp_c
		.he 78,00,7c,38,ee,7c,fe,7c,b9,fe,f1,ee,b9,c6,f9,c6
		.he 79,c6,f9,c6,f5,ee,c9,fe,c2,7c,82,7c,44,38,38,00
		.he 00,00,38,00,44,38,82,7c,8a,7c,85,fe,d1,ee,f9,c6
		.he b9,c6,f1,ee,f9,fe,de,7c,ee,7c,7c,38,38,00,00,00
		.he 00,00,38,00,44,38,44,38,a2,7c,c6,7c,9e,6c,9e,6c
		.he 96,6c,9e,6c,9a,7c,9e,7c,6c,38,7c,38,38,00,00,00
		.he 38,00,7c,38,6c,38,fe,7c,fa,7c,be,7c,9e,6c,9a,6c
		.he 9e,6c,9e,6c,c6,7c,a2,7c,82,7c,44,38,44,38,38,00
		
shp_gw
	.he 00,00,00,00,10,10,10,10,10,10,00,38,00,38,cc,f4,4e,76,18,20,38,00,10,10,10,10,10,10,00,00,00,00
	.he 00,00,00,00,08,08,18,18,10,10,80,b0,c0,f8,40,78,0c,34,1e,26,3a,02,18,10,30,30,20,20,00,00,00,00
	.he 00,00,00,00,82,82,44,d6,44,54,00,38,00,38,04,78,0c,70,08,30,18,20,54,44,54,c6,82,82,00,00,00,00
	.he 00,00,00,00,20,20,30,30,10,10,02,1a,06,3e,04,3c,48,70,c8,f0,98,a0,30,10,18,18,08,08,00,00,00,00

		
shp_moneta
	.he 24,18,42,3c,18,66,b5,42,10,c3,52,c3,52,99,7e,99,7e,99,4a,99,4a,c3,08,c3,ad,42,18,66,42,3c,24,18
	.he 2c,18,04,3c,56,2c,12,66,10,42,12,46,5a,06,6e,16,6a,16,5a,06,0a,46,08,46,12,7e,56,3c,04,3c,2c,18
	.he 08,18,24,18,0c,3c,00,3c,10,2c,14,2c,14,2c,3c,04,3c,04,0c,34,14,2c,14,2c,10,2c,0c,3c,24,18,08,18
	.he 10,08,18,00,10,08,18,00,18,08,18,08,18,18,08,18,08,18,18,08,18,18,18,08,18,00,10,08,18,00,10,08
	.he 10,18,24,18,30,3c,00,3c,08,34,28,34,28,34,3c,20,3c,20,30,2c,28,34,28,34,08,34,30,3c,24,18,10,18
	.he 34,18,20,3c,6a,34,48,66,08,42,48,62,5a,60,76,68,56,68,5a,60,50,62,10,62,48,7e,6a,3c,20,3c,34,18
shp_rakieta
	.he 82,10,94,d2,d8,f6,f0,ee,72,ec,f0,7c,24,78,70,38,30,28,30,38,20,38,30,28,10,38,38,10,10,10,00,10
	.he 00,10,04,50,68,74,24,58,60,5c,24,78,70,7c,60,38,20,18,38,30,20,38,28,10,10,38,28,10,00,10,00,10
	.he 00,10,00,10,28,10,20,38,20,38,10,38,20,38,10,38,20,38,10,38,20,38,00,38,30,38,28,10,00,10,00,10
	.he 00,10,04,50,58,74,34,78,30,7c,7c,78,38,7c,54,38,38,30,38,38,30,38,18,30,18,38,28,10,00,10,00,10

		
.endl		